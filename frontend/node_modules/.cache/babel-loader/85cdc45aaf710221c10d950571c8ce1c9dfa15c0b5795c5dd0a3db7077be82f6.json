{"ast":null,"code":"import _objectSpread from\"/home/abhinavgomra/project/Medi_Care-main/Medicare/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const API_BASE_URL=process.env.REACT_APP_API_BASE_URL||'http://localhost:5000';function getAuthHeaders(){const token=localStorage.getItem('token');return token?{Authorization:\"Bearer \".concat(token)}:{};}async function handleResponse(res){const text=await res.text();const data=text?JSON.parse(text):null;if(!res.ok){const message=data&&(data.error||data.message)||\"Request failed (\".concat(res.status,\")\");throw new Error(message);}return data;}export const login=async _ref=>{let{email,password}=_ref;const res=await fetch(\"\".concat(API_BASE_URL,\"/api/auth/login\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});const data=await handleResponse(res);if(data!==null&&data!==void 0&&data.token)localStorage.setItem('token',data.token);return data;};export const register=async _ref2=>{let{email,password}=_ref2;const res=await fetch(\"\".concat(API_BASE_URL,\"/api/auth/register\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});return handleResponse(res);};export const getDoctors=async()=>{const res=await fetch(\"\".concat(API_BASE_URL,\"/api/doctors\"));return handleResponse(res);};export const getAppointments=async()=>{const res=await fetch(\"\".concat(API_BASE_URL,\"/api/appointments\"),{headers:_objectSpread({},getAuthHeaders())});return handleResponse(res);};export const bookAppointment=async _ref3=>{let{doctorId,date,reason}=_ref3;const res=await fetch(\"\".concat(API_BASE_URL,\"/api/appointments\"),{method:'POST',headers:_objectSpread({'Content-Type':'application/json'},getAuthHeaders()),body:JSON.stringify({doctorId,date,reason})});return handleResponse(res);};// Profile\nexport const getMe=async()=>{const res=await fetch(\"\".concat(API_BASE_URL,\"/api/me\"),{headers:_objectSpread({},getAuthHeaders())});return handleResponse(res);};export const updatePhone=async phone=>{const res=await fetch(\"\".concat(API_BASE_URL,\"/api/me/phone\"),{method:'PUT',headers:_objectSpread({'Content-Type':'application/json'},getAuthHeaders()),body:JSON.stringify({phone})});return handleResponse(res);};// OCR\nexport const ocrPrescription=async file=>{const form=new FormData();form.append('file',file);const res=await fetch(\"\".concat(API_BASE_URL,\"/api/prescriptions/ocr\"),{method:'POST',headers:_objectSpread({},getAuthHeaders()),body:form});return handleResponse(res);};// Voice transcription\nexport const transcribeVoice=async file=>{const form=new FormData();form.append('file',file);const res=await fetch(\"\".concat(API_BASE_URL,\"/api/voice/transcribe\"),{method:'POST',headers:_objectSpread({},getAuthHeaders()),body:form});return handleResponse(res);};// Twilio Verify helpers\nexport const startPhoneVerification=async phone=>{const res=await fetch(\"\".concat(API_BASE_URL,\"/api/verify/start\"),{method:'POST',headers:_objectSpread({'Content-Type':'application/json'},getAuthHeaders()),body:JSON.stringify({phone})});return handleResponse(res);};export const checkPhoneVerification=async _ref4=>{let{phone,code}=_ref4;const res=await fetch(\"\".concat(API_BASE_URL,\"/api/verify/check\"),{method:'POST',headers:_objectSpread({'Content-Type':'application/json'},getAuthHeaders()),body:JSON.stringify({phone,code})});return handleResponse(res);};// Health AI assistant\nexport const healthAssistant=async _ref5=>{let{message,language}=_ref5;const res=await fetch(\"\".concat(API_BASE_URL,\"/api/ai/health-assistant\"),{method:'POST',headers:_objectSpread({'Content-Type':'application/json'},getAuthHeaders()),body:JSON.stringify({message,language})});return handleResponse(res);};// Ambulance\nexport const requestAmbulance=async location=>{const res=await fetch(\"\".concat(API_BASE_URL,\"/api/ambulance/request\"),{method:'POST',headers:_objectSpread({'Content-Type':'application/json'},getAuthHeaders()),body:JSON.stringify({location})});return handleResponse(res);};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_BASE_URL","getAuthHeaders","token","localStorage","getItem","Authorization","concat","handleResponse","res","text","data","JSON","parse","ok","message","error","status","Error","login","_ref","email","password","fetch","method","headers","body","stringify","setItem","register","_ref2","getDoctors","getAppointments","_objectSpread","bookAppointment","_ref3","doctorId","date","reason","getMe","updatePhone","phone","ocrPrescription","file","form","FormData","append","transcribeVoice","startPhoneVerification","checkPhoneVerification","_ref4","code","healthAssistant","_ref5","language","requestAmbulance","location"],"sources":["/home/abhinavgomra/project/Medi_Care-main/Medicare/frontend/src/utils/api.js"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000';\n\nfunction getAuthHeaders() {\n  const token = localStorage.getItem('token');\n  return token ? { Authorization: `Bearer ${token}` } : {};\n}\n\nasync function handleResponse(res) {\n  const text = await res.text();\n  const data = text ? JSON.parse(text) : null;\n  if (!res.ok) {\n    const message = (data && (data.error || data.message)) || `Request failed (${res.status})`;\n    throw new Error(message);\n  }\n  return data;\n}\n\nexport const login = async ({ email, password }) => {\n  const res = await fetch(`${API_BASE_URL}/api/auth/login`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ email, password })\n  });\n  const data = await handleResponse(res);\n  if (data?.token) localStorage.setItem('token', data.token);\n  return data;\n};\n\nexport const register = async ({ email, password }) => {\n  const res = await fetch(`${API_BASE_URL}/api/auth/register`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ email, password })\n  });\n  return handleResponse(res);\n};\n\nexport const getDoctors = async () => {\n  const res = await fetch(`${API_BASE_URL}/api/doctors`);\n  return handleResponse(res);\n};\n\nexport const getAppointments = async () => {\n  const res = await fetch(`${API_BASE_URL}/api/appointments`, {\n    headers: { ...getAuthHeaders() }\n  });\n  return handleResponse(res);\n};\n\nexport const bookAppointment = async ({ doctorId, date, reason }) => {\n  const res = await fetch(`${API_BASE_URL}/api/appointments`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json', ...getAuthHeaders() },\n    body: JSON.stringify({ doctorId, date, reason })\n  });\n  return handleResponse(res);\n};\n\n// Profile\nexport const getMe = async () => {\n  const res = await fetch(`${API_BASE_URL}/api/me`, { headers: { ...getAuthHeaders() } });\n  return handleResponse(res);\n};\n\nexport const updatePhone = async (phone) => {\n  const res = await fetch(`${API_BASE_URL}/api/me/phone`, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json', ...getAuthHeaders() },\n    body: JSON.stringify({ phone })\n  });\n  return handleResponse(res);\n};\n\n// OCR\nexport const ocrPrescription = async (file) => {\n  const form = new FormData();\n  form.append('file', file);\n  const res = await fetch(`${API_BASE_URL}/api/prescriptions/ocr`, {\n    method: 'POST',\n    headers: { ...getAuthHeaders() },\n    body: form\n  });\n  return handleResponse(res);\n};\n\n// Voice transcription\nexport const transcribeVoice = async (file) => {\n  const form = new FormData();\n  form.append('file', file);\n  const res = await fetch(`${API_BASE_URL}/api/voice/transcribe`, {\n    method: 'POST',\n    headers: { ...getAuthHeaders() },\n    body: form\n  });\n  return handleResponse(res);\n};\n\n// Twilio Verify helpers\nexport const startPhoneVerification = async (phone) => {\n  const res = await fetch(`${API_BASE_URL}/api/verify/start`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json', ...getAuthHeaders() },\n    body: JSON.stringify({ phone })\n  });\n  return handleResponse(res);\n};\n\nexport const checkPhoneVerification = async ({ phone, code }) => {\n  const res = await fetch(`${API_BASE_URL}/api/verify/check`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json', ...getAuthHeaders() },\n    body: JSON.stringify({ phone, code })\n  });\n  return handleResponse(res);\n};\n\n// Health AI assistant\nexport const healthAssistant = async ({ message, language }) => {\n  const res = await fetch(`${API_BASE_URL}/api/ai/health-assistant`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json', ...getAuthHeaders() },\n    body: JSON.stringify({ message, language })\n  });\n  return handleResponse(res);\n};\n\n// Ambulance\nexport const requestAmbulance = async (location) => {\n  const res = await fetch(`${API_BASE_URL}/api/ambulance/request`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json', ...getAuthHeaders() },\n    body: JSON.stringify({ location })\n  });\n  return handleResponse(res);\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}