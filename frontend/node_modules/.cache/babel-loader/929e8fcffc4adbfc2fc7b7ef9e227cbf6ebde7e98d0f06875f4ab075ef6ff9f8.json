{"ast":null,"code":"const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000';\nfunction getAuthHeaders() {\n  const token = localStorage.getItem('token');\n  return token ? {\n    Authorization: `Bearer ${token}`\n  } : {};\n}\nasync function handleResponse(res) {\n  const text = await res.text();\n  const data = text ? JSON.parse(text) : null;\n  if (!res.ok) {\n    const message = data && (data.error || data.message) || `Request failed (${res.status})`;\n    throw new Error(message);\n  }\n  return data;\n}\nexport const login = async ({\n  email,\n  password\n}) => {\n  const res = await fetch(`${API_BASE_URL}/api/auth/login`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  });\n  const data = await handleResponse(res);\n  if (data !== null && data !== void 0 && data.token) localStorage.setItem('token', data.token);\n  return data;\n};\nexport const register = async ({\n  email,\n  password\n}) => {\n  const res = await fetch(`${API_BASE_URL}/api/auth/register`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  });\n  return handleResponse(res);\n};\nexport const getDoctors = async () => {\n  const res = await fetch(`${API_BASE_URL}/api/doctors`);\n  return handleResponse(res);\n};\nexport const getAppointments = async () => {\n  const res = await fetch(`${API_BASE_URL}/api/appointments`, {\n    headers: {\n      ...getAuthHeaders()\n    }\n  });\n  return handleResponse(res);\n};\nexport const bookAppointment = async ({\n  doctorId,\n  date,\n  reason\n}) => {\n  const res = await fetch(`${API_BASE_URL}/api/appointments`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      ...getAuthHeaders()\n    },\n    body: JSON.stringify({\n      doctorId,\n      date,\n      reason\n    })\n  });\n  return handleResponse(res);\n};\n\n// Profile\nexport const getMe = async () => {\n  const res = await fetch(`${API_BASE_URL}/api/me`, {\n    headers: {\n      ...getAuthHeaders()\n    }\n  });\n  return handleResponse(res);\n};\nexport const updatePhone = async phone => {\n  const res = await fetch(`${API_BASE_URL}/api/me/phone`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      ...getAuthHeaders()\n    },\n    body: JSON.stringify({\n      phone\n    })\n  });\n  return handleResponse(res);\n};\n\n// OCR\nexport const ocrPrescription = async file => {\n  const form = new FormData();\n  form.append('file', file);\n  const res = await fetch(`${API_BASE_URL}/api/prescriptions/ocr`, {\n    method: 'POST',\n    headers: {\n      ...getAuthHeaders()\n    },\n    body: form\n  });\n  return handleResponse(res);\n};\n\n// Voice transcription\nexport const transcribeVoice = async file => {\n  const form = new FormData();\n  form.append('file', file);\n  const res = await fetch(`${API_BASE_URL}/api/voice/transcribe`, {\n    method: 'POST',\n    headers: {\n      ...getAuthHeaders()\n    },\n    body: form\n  });\n  return handleResponse(res);\n};\n\n// Twilio Verify helpers\nexport const startPhoneVerification = async phone => {\n  const res = await fetch(`${API_BASE_URL}/api/verify/start`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      ...getAuthHeaders()\n    },\n    body: JSON.stringify({\n      phone\n    })\n  });\n  return handleResponse(res);\n};\nexport const checkPhoneVerification = async ({\n  phone,\n  code\n}) => {\n  const res = await fetch(`${API_BASE_URL}/api/verify/check`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      ...getAuthHeaders()\n    },\n    body: JSON.stringify({\n      phone,\n      code\n    })\n  });\n  return handleResponse(res);\n};\n\n// Health AI assistant\nexport const healthAssistant = async ({\n  message,\n  language\n}) => {\n  const res = await fetch(`${API_BASE_URL}/api/ai/health-assistant`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      ...getAuthHeaders()\n    },\n    body: JSON.stringify({\n      message,\n      language\n    })\n  });\n  return handleResponse(res);\n};\n\n// Ambulance\nexport const requestAmbulance = async location => {\n  const res = await fetch(`${API_BASE_URL}/api/ambulance/request`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      ...getAuthHeaders()\n    },\n    body: JSON.stringify({\n      location\n    })\n  });\n  return handleResponse(res);\n};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_BASE_URL","getAuthHeaders","token","localStorage","getItem","Authorization","handleResponse","res","text","data","JSON","parse","ok","message","error","status","Error","login","email","password","fetch","method","headers","body","stringify","setItem","register","getDoctors","getAppointments","bookAppointment","doctorId","date","reason","getMe","updatePhone","phone","ocrPrescription","file","form","FormData","append","transcribeVoice","startPhoneVerification","checkPhoneVerification","code","healthAssistant","language","requestAmbulance","location"],"sources":["/home/abhinavgomra/project/Medi_Care-main/Medicare/frontend/src/utils/api.js"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000';\n\nfunction getAuthHeaders() {\n  const token = localStorage.getItem('token');\n  return token ? { Authorization: `Bearer ${token}` } : {};\n}\n\nasync function handleResponse(res) {\n  const text = await res.text();\n  const data = text ? JSON.parse(text) : null;\n  if (!res.ok) {\n    const message = (data && (data.error || data.message)) || `Request failed (${res.status})`;\n    throw new Error(message);\n  }\n  return data;\n}\n\nexport const login = async ({ email, password }) => {\n  const res = await fetch(`${API_BASE_URL}/api/auth/login`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ email, password })\n  });\n  const data = await handleResponse(res);\n  if (data?.token) localStorage.setItem('token', data.token);\n  return data;\n};\n\nexport const register = async ({ email, password }) => {\n  const res = await fetch(`${API_BASE_URL}/api/auth/register`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ email, password })\n  });\n  return handleResponse(res);\n};\n\nexport const getDoctors = async () => {\n  const res = await fetch(`${API_BASE_URL}/api/doctors`);\n  return handleResponse(res);\n};\n\nexport const getAppointments = async () => {\n  const res = await fetch(`${API_BASE_URL}/api/appointments`, {\n    headers: { ...getAuthHeaders() }\n  });\n  return handleResponse(res);\n};\n\nexport const bookAppointment = async ({ doctorId, date, reason }) => {\n  const res = await fetch(`${API_BASE_URL}/api/appointments`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json', ...getAuthHeaders() },\n    body: JSON.stringify({ doctorId, date, reason })\n  });\n  return handleResponse(res);\n};\n\n// Profile\nexport const getMe = async () => {\n  const res = await fetch(`${API_BASE_URL}/api/me`, { headers: { ...getAuthHeaders() } });\n  return handleResponse(res);\n};\n\nexport const updatePhone = async (phone) => {\n  const res = await fetch(`${API_BASE_URL}/api/me/phone`, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json', ...getAuthHeaders() },\n    body: JSON.stringify({ phone })\n  });\n  return handleResponse(res);\n};\n\n// OCR\nexport const ocrPrescription = async (file) => {\n  const form = new FormData();\n  form.append('file', file);\n  const res = await fetch(`${API_BASE_URL}/api/prescriptions/ocr`, {\n    method: 'POST',\n    headers: { ...getAuthHeaders() },\n    body: form\n  });\n  return handleResponse(res);\n};\n\n// Voice transcription\nexport const transcribeVoice = async (file) => {\n  const form = new FormData();\n  form.append('file', file);\n  const res = await fetch(`${API_BASE_URL}/api/voice/transcribe`, {\n    method: 'POST',\n    headers: { ...getAuthHeaders() },\n    body: form\n  });\n  return handleResponse(res);\n};\n\n// Twilio Verify helpers\nexport const startPhoneVerification = async (phone) => {\n  const res = await fetch(`${API_BASE_URL}/api/verify/start`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json', ...getAuthHeaders() },\n    body: JSON.stringify({ phone })\n  });\n  return handleResponse(res);\n};\n\nexport const checkPhoneVerification = async ({ phone, code }) => {\n  const res = await fetch(`${API_BASE_URL}/api/verify/check`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json', ...getAuthHeaders() },\n    body: JSON.stringify({ phone, code })\n  });\n  return handleResponse(res);\n};\n\n// Health AI assistant\nexport const healthAssistant = async ({ message, language }) => {\n  const res = await fetch(`${API_BASE_URL}/api/ai/health-assistant`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json', ...getAuthHeaders() },\n    body: JSON.stringify({ message, language })\n  });\n  return handleResponse(res);\n};\n\n// Ambulance\nexport const requestAmbulance = async (location) => {\n  const res = await fetch(`${API_BASE_URL}/api/ambulance/request`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json', ...getAuthHeaders() },\n    body: JSON.stringify({ location })\n  });\n  return handleResponse(res);\n};"],"mappings":"AAAA,MAAMA,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,IAAI,uBAAuB;AAElF,SAASC,cAAcA,CAAA,EAAG;EACxB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,OAAOF,KAAK,GAAG;IAAEG,aAAa,EAAE,UAAUH,KAAK;EAAG,CAAC,GAAG,CAAC,CAAC;AAC1D;AAEA,eAAeI,cAAcA,CAACC,GAAG,EAAE;EACjC,MAAMC,IAAI,GAAG,MAAMD,GAAG,CAACC,IAAI,CAAC,CAAC;EAC7B,MAAMC,IAAI,GAAGD,IAAI,GAAGE,IAAI,CAACC,KAAK,CAACH,IAAI,CAAC,GAAG,IAAI;EAC3C,IAAI,CAACD,GAAG,CAACK,EAAE,EAAE;IACX,MAAMC,OAAO,GAAIJ,IAAI,KAAKA,IAAI,CAACK,KAAK,IAAIL,IAAI,CAACI,OAAO,CAAC,IAAK,mBAAmBN,GAAG,CAACQ,MAAM,GAAG;IAC1F,MAAM,IAAIC,KAAK,CAACH,OAAO,CAAC;EAC1B;EACA,OAAOJ,IAAI;AACb;AAEA,OAAO,MAAMQ,KAAK,GAAG,MAAAA,CAAO;EAAEC,KAAK;EAAEC;AAAS,CAAC,KAAK;EAClD,MAAMZ,GAAG,GAAG,MAAMa,KAAK,CAAC,GAAGvB,YAAY,iBAAiB,EAAE;IACxDwB,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEb,IAAI,CAACc,SAAS,CAAC;MAAEN,KAAK;MAAEC;IAAS,CAAC;EAC1C,CAAC,CAAC;EACF,MAAMV,IAAI,GAAG,MAAMH,cAAc,CAACC,GAAG,CAAC;EACtC,IAAIE,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEP,KAAK,EAAEC,YAAY,CAACsB,OAAO,CAAC,OAAO,EAAEhB,IAAI,CAACP,KAAK,CAAC;EAC1D,OAAOO,IAAI;AACb,CAAC;AAED,OAAO,MAAMiB,QAAQ,GAAG,MAAAA,CAAO;EAAER,KAAK;EAAEC;AAAS,CAAC,KAAK;EACrD,MAAMZ,GAAG,GAAG,MAAMa,KAAK,CAAC,GAAGvB,YAAY,oBAAoB,EAAE;IAC3DwB,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEb,IAAI,CAACc,SAAS,CAAC;MAAEN,KAAK;MAAEC;IAAS,CAAC;EAC1C,CAAC,CAAC;EACF,OAAOb,cAAc,CAACC,GAAG,CAAC;AAC5B,CAAC;AAED,OAAO,MAAMoB,UAAU,GAAG,MAAAA,CAAA,KAAY;EACpC,MAAMpB,GAAG,GAAG,MAAMa,KAAK,CAAC,GAAGvB,YAAY,cAAc,CAAC;EACtD,OAAOS,cAAc,CAACC,GAAG,CAAC;AAC5B,CAAC;AAED,OAAO,MAAMqB,eAAe,GAAG,MAAAA,CAAA,KAAY;EACzC,MAAMrB,GAAG,GAAG,MAAMa,KAAK,CAAC,GAAGvB,YAAY,mBAAmB,EAAE;IAC1DyB,OAAO,EAAE;MAAE,GAAGrB,cAAc,CAAC;IAAE;EACjC,CAAC,CAAC;EACF,OAAOK,cAAc,CAACC,GAAG,CAAC;AAC5B,CAAC;AAED,OAAO,MAAMsB,eAAe,GAAG,MAAAA,CAAO;EAAEC,QAAQ;EAAEC,IAAI;EAAEC;AAAO,CAAC,KAAK;EACnE,MAAMzB,GAAG,GAAG,MAAMa,KAAK,CAAC,GAAGvB,YAAY,mBAAmB,EAAE;IAC1DwB,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE,kBAAkB;MAAE,GAAGrB,cAAc,CAAC;IAAE,CAAC;IACpEsB,IAAI,EAAEb,IAAI,CAACc,SAAS,CAAC;MAAEM,QAAQ;MAAEC,IAAI;MAAEC;IAAO,CAAC;EACjD,CAAC,CAAC;EACF,OAAO1B,cAAc,CAACC,GAAG,CAAC;AAC5B,CAAC;;AAED;AACA,OAAO,MAAM0B,KAAK,GAAG,MAAAA,CAAA,KAAY;EAC/B,MAAM1B,GAAG,GAAG,MAAMa,KAAK,CAAC,GAAGvB,YAAY,SAAS,EAAE;IAAEyB,OAAO,EAAE;MAAE,GAAGrB,cAAc,CAAC;IAAE;EAAE,CAAC,CAAC;EACvF,OAAOK,cAAc,CAACC,GAAG,CAAC;AAC5B,CAAC;AAED,OAAO,MAAM2B,WAAW,GAAG,MAAOC,KAAK,IAAK;EAC1C,MAAM5B,GAAG,GAAG,MAAMa,KAAK,CAAC,GAAGvB,YAAY,eAAe,EAAE;IACtDwB,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MAAE,cAAc,EAAE,kBAAkB;MAAE,GAAGrB,cAAc,CAAC;IAAE,CAAC;IACpEsB,IAAI,EAAEb,IAAI,CAACc,SAAS,CAAC;MAAEW;IAAM,CAAC;EAChC,CAAC,CAAC;EACF,OAAO7B,cAAc,CAACC,GAAG,CAAC;AAC5B,CAAC;;AAED;AACA,OAAO,MAAM6B,eAAe,GAAG,MAAOC,IAAI,IAAK;EAC7C,MAAMC,IAAI,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC3BD,IAAI,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;EACzB,MAAM9B,GAAG,GAAG,MAAMa,KAAK,CAAC,GAAGvB,YAAY,wBAAwB,EAAE;IAC/DwB,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,GAAGrB,cAAc,CAAC;IAAE,CAAC;IAChCsB,IAAI,EAAEe;EACR,CAAC,CAAC;EACF,OAAOhC,cAAc,CAACC,GAAG,CAAC;AAC5B,CAAC;;AAED;AACA,OAAO,MAAMkC,eAAe,GAAG,MAAOJ,IAAI,IAAK;EAC7C,MAAMC,IAAI,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC3BD,IAAI,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;EACzB,MAAM9B,GAAG,GAAG,MAAMa,KAAK,CAAC,GAAGvB,YAAY,uBAAuB,EAAE;IAC9DwB,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,GAAGrB,cAAc,CAAC;IAAE,CAAC;IAChCsB,IAAI,EAAEe;EACR,CAAC,CAAC;EACF,OAAOhC,cAAc,CAACC,GAAG,CAAC;AAC5B,CAAC;;AAED;AACA,OAAO,MAAMmC,sBAAsB,GAAG,MAAOP,KAAK,IAAK;EACrD,MAAM5B,GAAG,GAAG,MAAMa,KAAK,CAAC,GAAGvB,YAAY,mBAAmB,EAAE;IAC1DwB,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE,kBAAkB;MAAE,GAAGrB,cAAc,CAAC;IAAE,CAAC;IACpEsB,IAAI,EAAEb,IAAI,CAACc,SAAS,CAAC;MAAEW;IAAM,CAAC;EAChC,CAAC,CAAC;EACF,OAAO7B,cAAc,CAACC,GAAG,CAAC;AAC5B,CAAC;AAED,OAAO,MAAMoC,sBAAsB,GAAG,MAAAA,CAAO;EAAER,KAAK;EAAES;AAAK,CAAC,KAAK;EAC/D,MAAMrC,GAAG,GAAG,MAAMa,KAAK,CAAC,GAAGvB,YAAY,mBAAmB,EAAE;IAC1DwB,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE,kBAAkB;MAAE,GAAGrB,cAAc,CAAC;IAAE,CAAC;IACpEsB,IAAI,EAAEb,IAAI,CAACc,SAAS,CAAC;MAAEW,KAAK;MAAES;IAAK,CAAC;EACtC,CAAC,CAAC;EACF,OAAOtC,cAAc,CAACC,GAAG,CAAC;AAC5B,CAAC;;AAED;AACA,OAAO,MAAMsC,eAAe,GAAG,MAAAA,CAAO;EAAEhC,OAAO;EAAEiC;AAAS,CAAC,KAAK;EAC9D,MAAMvC,GAAG,GAAG,MAAMa,KAAK,CAAC,GAAGvB,YAAY,0BAA0B,EAAE;IACjEwB,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE,kBAAkB;MAAE,GAAGrB,cAAc,CAAC;IAAE,CAAC;IACpEsB,IAAI,EAAEb,IAAI,CAACc,SAAS,CAAC;MAAEX,OAAO;MAAEiC;IAAS,CAAC;EAC5C,CAAC,CAAC;EACF,OAAOxC,cAAc,CAACC,GAAG,CAAC;AAC5B,CAAC;;AAED;AACA,OAAO,MAAMwC,gBAAgB,GAAG,MAAOC,QAAQ,IAAK;EAClD,MAAMzC,GAAG,GAAG,MAAMa,KAAK,CAAC,GAAGvB,YAAY,wBAAwB,EAAE;IAC/DwB,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE,kBAAkB;MAAE,GAAGrB,cAAc,CAAC;IAAE,CAAC;IACpEsB,IAAI,EAAEb,IAAI,CAACc,SAAS,CAAC;MAAEwB;IAAS,CAAC;EACnC,CAAC,CAAC;EACF,OAAO1C,cAAc,CAACC,GAAG,CAAC;AAC5B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}