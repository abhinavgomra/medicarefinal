{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abhin\\\\project\\\\Medi_Care-main\\\\Medicare\\\\frontend\\\\src\\\\pages\\\\VoiceControl.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Card, CardContent, CardTitle } from '../components/Card';\nimport { Button } from '../components/Button';\nimport { transcribeVoice, healthAssistant } from '../utils/api';\nimport { useToast } from '../components/Toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VoiceControl = () => {\n  _s();\n  const [audioFile, setAudioFile] = useState(null);\n  const [text, setText] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const {\n    addToast\n  } = useToast();\n  const mediaRecorderRef = useRef(null);\n  const chunksRef = useRef([]);\n  const [recording, setRecording] = useState(false);\n  const [dictating, setDictating] = useState(false);\n  const recognitionRef = useRef(null);\n  const [chat, setChat] = useState([]); // {role:'user'|'assistant', text}\n  const [conversationMode, setConversationMode] = useState(false);\n  const [isListening, setIsListening] = useState(false);\n  const [voices, setVoices] = useState([]);\n  const [selectedVoice, setSelectedVoice] = useState(null);\n  useEffect(() => {\n    // Load available voices\n    const loadVoices = () => {\n      const availableVoices = speechSynthesis.getVoices();\n      setVoices(availableVoices);\n      // Select a default voice (prefer female, English)\n      const defaultVoice = availableVoices.find(v => v.lang.startsWith('en') && v.name.toLowerCase().includes('female')) || availableVoices.find(v => v.lang.startsWith('en')) || availableVoices[0];\n      setSelectedVoice(defaultVoice);\n    };\n    loadVoices();\n    if (speechSynthesis.onvoiceschanged !== undefined) {\n      speechSynthesis.onvoiceschanged = loadVoices;\n    }\n    const SR = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (SR) {\n      const r = new SR();\n      r.lang = 'en-US';\n      r.continuous = false;\n      r.interimResults = false;\n      r.onresult = e => {\n        const transcript = e.results[0][0].transcript;\n        setText(transcript);\n        if (conversationMode && transcript.trim()) {\n          handleUserMessage(transcript.trim());\n        }\n      };\n      r.onend = () => {\n        setDictating(false);\n        setIsListening(false);\n        if (conversationMode) {\n          // Auto-restart listening after a short delay\n          setTimeout(() => startListening(), 1000);\n        }\n      };\n      r.onerror = e => {\n        console.error('Speech recognition error:', e.error);\n        setDictating(false);\n        setIsListening(false);\n        setError('Voice recognition failed. Please try again.');\n      };\n      recognitionRef.current = r;\n    }\n  }, [conversationMode]);\n  const startRecording = async () => {\n    setError('');\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      const mr = new MediaRecorder(stream);\n      mediaRecorderRef.current = mr;\n      chunksRef.current = [];\n      mr.ondataavailable = e => {\n        if (e.data.size > 0) chunksRef.current.push(e.data);\n      };\n      mr.onstop = async () => {\n        const blob = new Blob(chunksRef.current, {\n          type: 'audio/webm'\n        });\n        const file = new File([blob], 'recording.webm', {\n          type: 'audio/webm'\n        });\n        setAudioFile(file);\n      };\n      mr.start();\n      setRecording(true);\n    } catch (e) {\n      setError('Microphone access denied. Please allow microphone access.');\n    }\n  };\n  const stopRecording = () => {\n    const mr = mediaRecorderRef.current;\n    if (mr && mr.state !== 'inactive') {\n      mr.stop();\n      setRecording(false);\n    }\n  };\n  const startListening = () => {\n    setError('');\n    if (!recognitionRef.current) {\n      setError('Voice recognition not supported in this browser');\n      return;\n    }\n    try {\n      recognitionRef.current.start();\n      setDictating(true);\n      setIsListening(true);\n    } catch (e) {\n      setError('Could not start voice recognition');\n    }\n  };\n  const stopListening = () => {\n    try {\n      recognitionRef.current && recognitionRef.current.stop();\n    } catch (_) {}\n    setDictating(false);\n    setIsListening(false);\n  };\n  const speak = (msg, langHint) => {\n    try {\n      const utter = new SpeechSynthesisUtterance(msg);\n      if (selectedVoice) {\n        utter.voice = selectedVoice;\n      } else if (langHint && langHint.startsWith('hi')) {\n        utter.lang = 'hi-IN';\n      }\n      utter.rate = 0.9; // Slightly slower for clarity\n      utter.pitch = 1.0;\n      window.speechSynthesis.speak(utter);\n    } catch (_) {}\n  };\n  const handleUserMessage = async message => {\n    const language = /[\\u0900-\\u097F]/.test(message) ? 'hi' : 'en';\n    const userMsg = {\n      role: 'user',\n      text: message\n    };\n    setChat(c => [...c, userMsg]);\n    try {\n      const {\n        reply\n      } = await healthAssistant({\n        message,\n        language\n      });\n      const assistantMsg = {\n        role: 'assistant',\n        text: reply || 'I\\'m here to help. Please describe your symptoms.'\n      };\n      setChat(c => [...c, assistantMsg]);\n      speak(assistantMsg.text, language);\n    } catch (e) {\n      const assistantMsg = {\n        role: 'assistant',\n        text: 'I\\'m sorry, I\\'m having trouble right now. Please try again or consult a doctor for medical advice.'\n      };\n      setChat(c => [...c, assistantMsg]);\n      speak(assistantMsg.text, 'en');\n    }\n  };\n  const toggleConversationMode = () => {\n    if (conversationMode) {\n      stopListening();\n      setConversationMode(false);\n      speak('Voice conversation ended. You can still type your questions below.', 'en');\n    } else {\n      setConversationMode(true);\n      setChat([]);\n      speak('Starting voice conversation. Tell me about your symptoms and I\\'ll help guide you.', 'en');\n      setTimeout(() => startListening(), 2000);\n    }\n  };\n  const onSubmit = async e => {\n    e.preventDefault();\n    if (!audioFile) return;\n    setLoading(true);\n    setText('');\n    setError('');\n    try {\n      const res = await transcribeVoice(audioFile);\n      setText(res.text || '');\n      addToast({\n        title: 'Transcription complete',\n        variant: 'success'\n      });\n    } catch (e) {\n      const msg = e.message || 'Transcription failed';\n      setError(msg);\n      addToast({\n        title: 'Transcription failed',\n        description: msg,\n        variant: 'error'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const sendTextMessage = () => {\n    if (text.trim()) {\n      handleUserMessage(text.trim());\n      setText('');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen py-8 bg-gradient-to-br from-blue-50 to-indigo-100\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        variant: \"glass\",\n        className: \"shadow-xl\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"p-8\",\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"mb-6 text-3xl font-bold text-center text-gray-800\",\n            children: \"Voice Health Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-8 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: toggleConversationMode,\n              className: `px-8 py-4 text-lg font-semibold rounded-full transition-all duration-300 ${conversationMode ? 'bg-red-500 hover:bg-red-600 text-white' : 'bg-green-500 hover:bg-green-600 text-white'}`,\n              children: conversationMode ? 'Stop Voice Chat' : 'Start Voice Chat'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-2 text-sm text-gray-600\",\n              children: conversationMode ? 'Speak naturally - I\\'ll listen and respond' : 'Click to talk with me about your health'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center gap-4 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `px-4 py-2 rounded-full text-sm font-medium ${isListening ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-600'}`,\n              children: isListening ? 'üé§ Listening...' : 'üîá Not Listening'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `px-4 py-2 rounded-full text-sm font-medium ${recording ? 'bg-red-100 text-red-800' : 'bg-gray-100 text-gray-600'}`,\n              children: recording ? '‚è∫Ô∏è Recording...' : '‚èπÔ∏è Not Recording'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: recording ? stopRecording : startRecording,\n                className: `w-full py-3 text-lg font-semibold rounded-lg transition-all duration-300 ${recording ? 'bg-red-500 hover:bg-red-600 text-white animate-pulse' : 'bg-blue-500 hover:bg-blue-600 text-white'}`,\n                children: recording ? 'Stop Recording' : 'Record Audio'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-xs text-gray-500\",\n                children: \"Record and upload audio file\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: isListening ? stopListening : startListening,\n                disabled: conversationMode,\n                className: `w-full py-3 text-lg font-semibold rounded-lg transition-all duration-300 ${isListening ? 'bg-green-500 hover:bg-green-600 text-white animate-pulse' : 'bg-purple-500 hover:bg-purple-600 text-white'}`,\n                children: isListening ? 'Stop Listening' : 'Listen Once'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-xs text-gray-500\",\n                children: \"Listen for one message\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: onSubmit,\n            className: \"mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-4 items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \"audio/*\",\n                onChange: e => {\n                  var _e$target$files;\n                  return setAudioFile(((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]) || null);\n                },\n                className: \"flex-1 px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                disabled: !audioFile || loading,\n                className: \"px-6 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg font-medium\",\n                children: loading ? 'Processing...' : 'Transcribe'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-800 font-medium\",\n              children: [\"\\u26A0\\uFE0F \", error]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: text,\n                onChange: e => setText(e.target.value),\n                placeholder: \"Type your symptoms or question here...\",\n                className: \"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg\",\n                onKeyDown: e => {\n                  if (e.key === 'Enter') {\n                    sendTextMessage();\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: sendTextMessage,\n                disabled: !text.trim(),\n                className: \"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium\",\n                children: \"Ask\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/70 rounded-lg p-4 max-h-96 overflow-y-auto border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold mb-4 text-lg text-gray-800\",\n              children: \"Conversation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), chat.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-center py-8\",\n              children: \"Start a conversation by speaking or typing your symptoms...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: chat.map((m, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-3 rounded-lg ${m.role === 'assistant' ? 'bg-blue-50 border-l-4 border-blue-500' : 'bg-green-50 border-l-4 border-green-500'}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-start gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `text-2xl ${m.role === 'assistant' ? 'ü§ñ' : 'üë§'}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-sm text-gray-600 uppercase tracking-wide\",\n                      children: m.role === 'assistant' ? 'Health Assistant' : 'You'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 335,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"mt-1 text-gray-800 leading-relaxed\",\n                      children: m.text\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 23\n                }, this)\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"font-semibold text-yellow-800 mb-2\",\n              children: \"\\uD83D\\uDCA1 How to use:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"text-sm text-yellow-700 space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 Click \\\"Start Voice Chat\\\" for hands-free conversation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 Or record audio and transcribe it\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 Type your symptoms for instant help\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 Always consult a real doctor for medical advice\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 5\n  }, this);\n};\n_s(VoiceControl, \"GQuP2XnG6by6p2MhOAUQshMEhXI=\", false, function () {\n  return [useToast];\n});\n_c = VoiceControl;\nexport default VoiceControl;\nvar _c;\n$RefreshReg$(_c, \"VoiceControl\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Card","CardContent","CardTitle","Button","transcribeVoice","healthAssistant","useToast","jsxDEV","_jsxDEV","VoiceControl","_s","audioFile","setAudioFile","text","setText","loading","setLoading","error","setError","addToast","mediaRecorderRef","chunksRef","recording","setRecording","dictating","setDictating","recognitionRef","chat","setChat","conversationMode","setConversationMode","isListening","setIsListening","voices","setVoices","selectedVoice","setSelectedVoice","loadVoices","availableVoices","speechSynthesis","getVoices","defaultVoice","find","v","lang","startsWith","name","toLowerCase","includes","onvoiceschanged","undefined","SR","window","SpeechRecognition","webkitSpeechRecognition","r","continuous","interimResults","onresult","e","transcript","results","trim","handleUserMessage","onend","setTimeout","startListening","onerror","console","current","startRecording","stream","navigator","mediaDevices","getUserMedia","audio","mr","MediaRecorder","ondataavailable","data","size","push","onstop","blob","Blob","type","file","File","start","stopRecording","state","stop","stopListening","_","speak","msg","langHint","utter","SpeechSynthesisUtterance","voice","rate","pitch","message","language","test","userMsg","role","c","reply","assistantMsg","toggleConversationMode","onSubmit","preventDefault","res","title","variant","description","sendTextMessage","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","accept","onChange","_e$target$files","target","files","value","placeholder","onKeyDown","key","length","map","m","i","_c","$RefreshReg$"],"sources":["C:/Users/abhin/project/Medi_Care-main/Medicare/frontend/src/pages/VoiceControl.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Card, CardContent, CardTitle } from '../components/Card';\nimport { Button } from '../components/Button';\nimport { transcribeVoice, healthAssistant } from '../utils/api';\nimport { useToast } from '../components/Toast';\n\nconst VoiceControl = () => {\n  const [audioFile, setAudioFile] = useState(null);\n  const [text, setText] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const { addToast } = useToast();\n  const mediaRecorderRef = useRef(null);\n  const chunksRef = useRef([]);\n  const [recording, setRecording] = useState(false);\n  const [dictating, setDictating] = useState(false);\n  const recognitionRef = useRef(null);\n  const [chat, setChat] = useState([]); // {role:'user'|'assistant', text}\n  const [conversationMode, setConversationMode] = useState(false);\n  const [isListening, setIsListening] = useState(false);\n  const [voices, setVoices] = useState([]);\n  const [selectedVoice, setSelectedVoice] = useState(null);\n\n  useEffect(() => {\n    // Load available voices\n    const loadVoices = () => {\n      const availableVoices = speechSynthesis.getVoices();\n      setVoices(availableVoices);\n      // Select a default voice (prefer female, English)\n      const defaultVoice = availableVoices.find(v => v.lang.startsWith('en') && v.name.toLowerCase().includes('female')) ||\n                          availableVoices.find(v => v.lang.startsWith('en')) ||\n                          availableVoices[0];\n      setSelectedVoice(defaultVoice);\n    };\n\n    loadVoices();\n    if (speechSynthesis.onvoiceschanged !== undefined) {\n      speechSynthesis.onvoiceschanged = loadVoices;\n    }\n\n    const SR = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (SR) {\n      const r = new SR();\n      r.lang = 'en-US';\n      r.continuous = false;\n      r.interimResults = false;\n      r.onresult = (e) => {\n        const transcript = e.results[0][0].transcript;\n        setText(transcript);\n        if (conversationMode && transcript.trim()) {\n          handleUserMessage(transcript.trim());\n        }\n      };\n      r.onend = () => {\n        setDictating(false);\n        setIsListening(false);\n        if (conversationMode) {\n          // Auto-restart listening after a short delay\n          setTimeout(() => startListening(), 1000);\n        }\n      };\n      r.onerror = (e) => {\n        console.error('Speech recognition error:', e.error);\n        setDictating(false);\n        setIsListening(false);\n        setError('Voice recognition failed. Please try again.');\n      };\n      recognitionRef.current = r;\n    }\n  }, [conversationMode]);\n\n  const startRecording = async () => {\n    setError('');\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const mr = new MediaRecorder(stream);\n      mediaRecorderRef.current = mr;\n      chunksRef.current = [];\n      mr.ondataavailable = (e) => { if (e.data.size > 0) chunksRef.current.push(e.data); };\n      mr.onstop = async () => {\n        const blob = new Blob(chunksRef.current, { type: 'audio/webm' });\n        const file = new File([blob], 'recording.webm', { type: 'audio/webm' });\n        setAudioFile(file);\n      };\n      mr.start();\n      setRecording(true);\n    } catch (e) {\n      setError('Microphone access denied. Please allow microphone access.');\n    }\n  };\n\n  const stopRecording = () => {\n    const mr = mediaRecorderRef.current;\n    if (mr && mr.state !== 'inactive') {\n      mr.stop();\n      setRecording(false);\n    }\n  };\n\n  const startListening = () => {\n    setError('');\n    if (!recognitionRef.current) {\n      setError('Voice recognition not supported in this browser');\n      return;\n    }\n    try {\n      recognitionRef.current.start();\n      setDictating(true);\n      setIsListening(true);\n    } catch (e) {\n      setError('Could not start voice recognition');\n    }\n  };\n\n  const stopListening = () => {\n    try {\n      recognitionRef.current && recognitionRef.current.stop();\n    } catch (_) {}\n    setDictating(false);\n    setIsListening(false);\n  };\n\n  const speak = (msg, langHint) => {\n    try {\n      const utter = new SpeechSynthesisUtterance(msg);\n      if (selectedVoice) {\n        utter.voice = selectedVoice;\n      } else if (langHint && langHint.startsWith('hi')) {\n        utter.lang = 'hi-IN';\n      }\n      utter.rate = 0.9; // Slightly slower for clarity\n      utter.pitch = 1.0;\n      window.speechSynthesis.speak(utter);\n    } catch (_) {}\n  };\n\n  const handleUserMessage = async (message) => {\n    const language = /[\\u0900-\\u097F]/.test(message) ? 'hi' : 'en';\n    const userMsg = { role: 'user', text: message };\n    setChat((c) => [...c, userMsg]);\n\n    try {\n      const { reply } = await healthAssistant({ message, language });\n      const assistantMsg = { role: 'assistant', text: reply || 'I\\'m here to help. Please describe your symptoms.' };\n      setChat((c) => [...c, assistantMsg]);\n      speak(assistantMsg.text, language);\n    } catch (e) {\n      const assistantMsg = { role: 'assistant', text: 'I\\'m sorry, I\\'m having trouble right now. Please try again or consult a doctor for medical advice.' };\n      setChat((c) => [...c, assistantMsg]);\n      speak(assistantMsg.text, 'en');\n    }\n  };\n\n  const toggleConversationMode = () => {\n    if (conversationMode) {\n      stopListening();\n      setConversationMode(false);\n      speak('Voice conversation ended. You can still type your questions below.', 'en');\n    } else {\n      setConversationMode(true);\n      setChat([]);\n      speak('Starting voice conversation. Tell me about your symptoms and I\\'ll help guide you.', 'en');\n      setTimeout(() => startListening(), 2000);\n    }\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    if (!audioFile) return;\n    setLoading(true); setText(''); setError('');\n    try {\n      const res = await transcribeVoice(audioFile);\n      setText(res.text || '');\n      addToast({ title: 'Transcription complete', variant: 'success' });\n    } catch (e) {\n      const msg = e.message || 'Transcription failed';\n      setError(msg);\n      addToast({ title: 'Transcription failed', description: msg, variant: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const sendTextMessage = () => {\n    if (text.trim()) {\n      handleUserMessage(text.trim());\n      setText('');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen py-8 bg-gradient-to-br from-blue-50 to-indigo-100\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <Card variant=\"glass\" className=\"shadow-xl\">\n          <CardContent className=\"p-8\">\n            <CardTitle className=\"mb-6 text-3xl font-bold text-center text-gray-800\">\n              Voice Health Assistant\n            </CardTitle>\n\n            {/* Voice Conversation Mode */}\n            <div className=\"mb-8 text-center\">\n              <Button\n                onClick={toggleConversationMode}\n                className={`px-8 py-4 text-lg font-semibold rounded-full transition-all duration-300 ${\n                  conversationMode\n                    ? 'bg-red-500 hover:bg-red-600 text-white'\n                    : 'bg-green-500 hover:bg-green-600 text-white'\n                }`}\n              >\n                {conversationMode ? 'Stop Voice Chat' : 'Start Voice Chat'}\n              </Button>\n              <p className=\"mt-2 text-sm text-gray-600\">\n                {conversationMode ? 'Speak naturally - I\\'ll listen and respond' : 'Click to talk with me about your health'}\n              </p>\n            </div>\n\n            {/* Status Indicators */}\n            <div className=\"flex justify-center gap-4 mb-6\">\n              <div className={`px-4 py-2 rounded-full text-sm font-medium ${\n                isListening ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-600'\n              }`}>\n                {isListening ? 'üé§ Listening...' : 'üîá Not Listening'}\n              </div>\n              <div className={`px-4 py-2 rounded-full text-sm font-medium ${\n                recording ? 'bg-red-100 text-red-800' : 'bg-gray-100 text-gray-600'\n              }`}>\n                {recording ? '‚è∫Ô∏è Recording...' : '‚èπÔ∏è Not Recording'}\n              </div>\n            </div>\n\n            {/* Manual Controls */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n              <div className=\"text-center\">\n                <Button\n                  onClick={recording ? stopRecording : startRecording}\n                  className={`w-full py-3 text-lg font-semibold rounded-lg transition-all duration-300 ${\n                    recording\n                      ? 'bg-red-500 hover:bg-red-600 text-white animate-pulse'\n                      : 'bg-blue-500 hover:bg-blue-600 text-white'\n                  }`}\n                >\n                  {recording ? 'Stop Recording' : 'Record Audio'}\n                </Button>\n                <p className=\"mt-1 text-xs text-gray-500\">Record and upload audio file</p>\n              </div>\n\n              <div className=\"text-center\">\n                <Button\n                  onClick={isListening ? stopListening : startListening}\n                  disabled={conversationMode}\n                  className={`w-full py-3 text-lg font-semibold rounded-lg transition-all duration-300 ${\n                    isListening\n                      ? 'bg-green-500 hover:bg-green-600 text-white animate-pulse'\n                      : 'bg-purple-500 hover:bg-purple-600 text-white'\n                  }`}\n                >\n                  {isListening ? 'Stop Listening' : 'Listen Once'}\n                </Button>\n                <p className=\"mt-1 text-xs text-gray-500\">Listen for one message</p>\n              </div>\n            </div>\n\n            {/* File Upload */}\n            <form onSubmit={onSubmit} className=\"mb-6\">\n              <div className=\"flex gap-4 items-center\">\n                <input\n                  type=\"file\"\n                  accept=\"audio/*\"\n                  onChange={(e) => setAudioFile(e.target.files?.[0] || null)}\n                  className=\"flex-1 px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none\"\n                />\n                <Button\n                  type=\"submit\"\n                  disabled={!audioFile || loading}\n                  className=\"px-6 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg font-medium\"\n                >\n                  {loading ? 'Processing...' : 'Transcribe'}\n                </Button>\n              </div>\n            </form>\n\n            {/* Error Display */}\n            {error && (\n              <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\n                <p className=\"text-red-800 font-medium\">‚ö†Ô∏è {error}</p>\n              </div>\n            )}\n\n            {/* Text Input */}\n            <div className=\"mb-6\">\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  value={text}\n                  onChange={(e) => setText(e.target.value)}\n                  placeholder=\"Type your symptoms or question here...\"\n                  className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg\"\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter') {\n                      sendTextMessage();\n                    }\n                  }}\n                />\n                <Button\n                  onClick={sendTextMessage}\n                  disabled={!text.trim()}\n                  className=\"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium\"\n                >\n                  Ask\n                </Button>\n              </div>\n            </div>\n\n            {/* Chat Display */}\n            <div className=\"bg-white/70 rounded-lg p-4 max-h-96 overflow-y-auto border border-gray-200\">\n              <h4 className=\"font-semibold mb-4 text-lg text-gray-800\">Conversation</h4>\n              {chat.length === 0 ? (\n                <p className=\"text-gray-500 text-center py-8\">\n                  Start a conversation by speaking or typing your symptoms...\n                </p>\n              ) : (\n                <div className=\"space-y-4\">\n                  {chat.map((m, i) => (\n                    <div\n                      key={i}\n                      className={`p-3 rounded-lg ${\n                        m.role === 'assistant'\n                          ? 'bg-blue-50 border-l-4 border-blue-500'\n                          : 'bg-green-50 border-l-4 border-green-500'\n                      }`}\n                    >\n                      <div className=\"flex items-start gap-3\">\n                        <span className={`text-2xl ${m.role === 'assistant' ? 'ü§ñ' : 'üë§'}`}></span>\n                        <div className=\"flex-1\">\n                          <span className=\"font-semibold text-sm text-gray-600 uppercase tracking-wide\">\n                            {m.role === 'assistant' ? 'Health Assistant' : 'You'}\n                          </span>\n                          <p className=\"mt-1 text-gray-800 leading-relaxed\">{m.text}</p>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Instructions */}\n            <div className=\"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\n              <h5 className=\"font-semibold text-yellow-800 mb-2\">üí° How to use:</h5>\n              <ul className=\"text-sm text-yellow-700 space-y-1\">\n                <li>‚Ä¢ Click \"Start Voice Chat\" for hands-free conversation</li>\n                <li>‚Ä¢ Or record audio and transcribe it</li>\n                <li>‚Ä¢ Type your symptoms for instant help</li>\n                <li>‚Ä¢ Always consult a real doctor for medical advice</li>\n              </ul>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default VoiceControl;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}