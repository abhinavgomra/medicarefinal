{"ast":null,"code":"import React,{useState}from'react';import{useLocation,useNavigate}from'react-router-dom';import{Card,CardContent,CardTitle}from'../components/Card';import{login,register}from'../utils/api';import{Button}from'../components/Button';import{useToast}from'../components/Toast';import{motion,AnimatePresence}from'framer-motion';import{AtSymbolIcon,LockClosedIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const navigate=useNavigate();const location=useLocation();const{addToast}=useToast();const[email,setEmail]=useState('test@example.com');const[password,setPassword]=useState('pass');const[mode,setMode]=useState('login');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();setError('');const emailOk=/[^\\s@]+@[^\\s@]+\\.[^\\s@]+/.test(email);if(!emailOk){setError('Please enter a valid email address');return;}if(String(password).length<4){setError('Password must be at least 4 characters');return;}setLoading(true);try{if(mode==='register'){await register({email,password});addToast({title:'Account created',description:'You can now log in',variant:'success'});}await login({email,password});addToast({title:'Welcome back',description:'Login successful',variant:'success'});const to=location.state&&location.state.from&&location.state.from.pathname||'/';navigate(to,{replace:true});}catch(err){const message=err.message||'Something went wrong';setError(message);addToast({title:'Login failed',description:message,variant:'error'});}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-[80vh] flex items-center justify-center px-4 py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-md\",children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},children:/*#__PURE__*/_jsx(Card,{className:\"border border-slate-100 shadow-card\",children:/*#__PURE__*/_jsxs(CardContent,{className:\"p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"text-2xl font-bold text-slate-800 mb-2\",children:mode==='login'?'Welcome Back':'Create Account'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500\",children:mode==='login'?'Enter your credentials to access your account':'Sign up to get started with Medicare'})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-700 mb-1\",children:\"Email\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(AtSymbolIcon,{className:\"h-5 w-5 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all bg-slate-50 focus:bg-white\",placeholder:\"name@example.com\",value:email,onChange:e=>setEmail(e.target.value),required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-700 mb-1\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(LockClosedIcon,{className:\"h-5 w-5 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all bg-slate-50 focus:bg-white\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",value:password,onChange:e=>setPassword(e.target.value),required:true})]})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:error&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:'auto'},exit:{opacity:0,height:0},className:\"text-red-600 text-sm bg-red-50 p-3 rounded-lg flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-1.5 h-1.5 rounded-full bg-red-500\"}),error]})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",loading:loading,className:\"w-full py-3 text-base shadow-lg shadow-primary-500/20\",children:mode==='login'?'Sign In':'Sign Up'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-slate-600\",children:[mode==='login'?\"Don't have an account? \":\"Already have an account? \",/*#__PURE__*/_jsx(\"button\",{className:\"text-primary-600 font-semibold hover:text-primary-700 hover:underline transition-all\",onClick:()=>{setMode(mode==='login'?'register':'login');setError('');},children:mode==='login'?'Sign up':'Log in'})]})})]})})})})});};export default Login;","map":{"version":3,"names":["React","useState","useLocation","useNavigate","Card","CardContent","CardTitle","login","register","Button","useToast","motion","AnimatePresence","AtSymbolIcon","LockClosedIcon","jsx","_jsx","jsxs","_jsxs","Login","navigate","location","addToast","email","setEmail","password","setPassword","mode","setMode","loading","setLoading","error","setError","handleSubmit","e","preventDefault","emailOk","test","String","length","title","description","variant","to","state","from","pathname","replace","err","message","className","children","div","initial","opacity","y","animate","transition","duration","onSubmit","type","placeholder","value","onChange","target","required","height","exit","onClick"],"sources":["/home/abhinavgomra/project/Medi_Care-main/Medicare/frontend/src/pages/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { Card, CardContent, CardTitle } from '../components/Card';\nimport { login, register } from '../utils/api';\nimport { Button } from '../components/Button';\nimport { useToast } from '../components/Toast';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { AtSymbolIcon, LockClosedIcon } from '@heroicons/react/24/outline';\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { addToast } = useToast();\n  const [email, setEmail] = useState('test@example.com');\n  const [password, setPassword] = useState('pass');\n  const [mode, setMode] = useState('login');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    const emailOk = /[^\\s@]+@[^\\s@]+\\.[^\\s@]+/.test(email);\n    if (!emailOk) {\n      setError('Please enter a valid email address');\n      return;\n    }\n    if (String(password).length < 4) {\n      setError('Password must be at least 4 characters');\n      return;\n    }\n    setLoading(true);\n    try {\n      if (mode === 'register') {\n        await register({ email, password });\n        addToast({ title: 'Account created', description: 'You can now log in', variant: 'success' });\n      }\n      await login({ email, password });\n      addToast({ title: 'Welcome back', description: 'Login successful', variant: 'success' });\n      const to = (location.state && location.state.from && location.state.from.pathname) || '/';\n      navigate(to, { replace: true });\n    } catch (err) {\n      const message = err.message || 'Something went wrong';\n      setError(message);\n      addToast({ title: 'Login failed', description: message, variant: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-[80vh] flex items-center justify-center px-4 py-12\">\n      <div className=\"w-full max-w-md\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5 }}\n        >\n          <Card className=\"border border-slate-100 shadow-card\">\n            <CardContent className=\"p-8\">\n              <div className=\"text-center mb-8\">\n                <CardTitle className=\"text-2xl font-bold text-slate-800 mb-2\">\n                  {mode === 'login' ? 'Welcome Back' : 'Create Account'}\n                </CardTitle>\n                <p className=\"text-slate-500\">\n                  {mode === 'login'\n                    ? 'Enter your credentials to access your account'\n                    : 'Sign up to get started with Medicare'}\n                </p>\n              </div>\n\n              <form onSubmit={handleSubmit} className=\"space-y-5\">\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-700 mb-1\">Email</label>\n                  <div className=\"relative\">\n                    <AtSymbolIcon className=\"h-5 w-5 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2\" />\n                    <input\n                      type=\"email\"\n                      className=\"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all bg-slate-50 focus:bg-white\"\n                      placeholder=\"name@example.com\"\n                      value={email}\n                      onChange={(e) => setEmail(e.target.value)}\n                      required\n                    />\n                  </div>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-700 mb-1\">Password</label>\n                  <div className=\"relative\">\n                    <LockClosedIcon className=\"h-5 w-5 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2\" />\n                    <input\n                      type=\"password\"\n                      className=\"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all bg-slate-50 focus:bg-white\"\n                      placeholder=\"••••••••\"\n                      value={password}\n                      onChange={(e) => setPassword(e.target.value)}\n                      required\n                    />\n                  </div>\n                </div>\n\n                <AnimatePresence>\n                  {error && (\n                    <motion.div\n                      initial={{ opacity: 0, height: 0 }}\n                      animate={{ opacity: 1, height: 'auto' }}\n                      exit={{ opacity: 0, height: 0 }}\n                      className=\"text-red-600 text-sm bg-red-50 p-3 rounded-lg flex items-center gap-2\"\n                    >\n                      <span className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></span>\n                      {error}\n                    </motion.div>\n                  )}\n                </AnimatePresence>\n\n                <Button type=\"submit\" loading={loading} className=\"w-full py-3 text-base shadow-lg shadow-primary-500/20\">\n                  {mode === 'login' ? 'Sign In' : 'Sign Up'}\n                </Button>\n              </form>\n\n              <div className=\"mt-6 text-center\">\n                <p className=\"text-sm text-slate-600\">\n                  {mode === 'login' ? \"Don't have an account? \" : \"Already have an account? \"}\n                  <button\n                    className=\"text-primary-600 font-semibold hover:text-primary-700 hover:underline transition-all\"\n                    onClick={() => {\n                      setMode(mode === 'login' ? 'register' : 'login');\n                      setError('');\n                    }}\n                  >\n                    {mode === 'login' ? 'Sign up' : 'Log in'}\n                  </button>\n                </p>\n              </div>\n            </CardContent>\n          </Card>\n        </motion.div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}