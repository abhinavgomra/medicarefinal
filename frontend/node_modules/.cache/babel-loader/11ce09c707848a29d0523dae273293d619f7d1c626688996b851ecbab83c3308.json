{"ast":null,"code":"import React,{useState}from'react';import{Card,CardContent,CardTitle}from'../components/Card';import{Button}from'../components/Button';import{ocrPrescription}from'../utils/api';import{useToast}from'../components/Toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PrescriptionOCR=()=>{const[file,setFile]=useState(null);const[text,setText]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const{addToast}=useToast();const onSubmit=async e=>{e.preventDefault();if(!file)return;setLoading(true);setError('');setText('');try{const res=await ocrPrescription(file);setText(res.text||'');addToast({title:'OCR complete',variant:'success'});}catch(e){const msg=e.message||'OCR failed';setError(msg);addToast({title:'OCR failed',description:msg,variant:'error'});}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(Card,{variant:\"glass\",children:/*#__PURE__*/_jsxs(CardContent,{className:\"p-6\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"mb-4\",children:\"Prescription Reader\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*,application/pdf\",onChange:e=>{var _e$target$files;return setFile(((_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0])||null);}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:!file||loading,children:loading?'Processing...':'Upload & Extract'})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-red-600 mt-4\",children:error}),text&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2\",children:\"Extracted Text\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"whitespace-pre-wrap text-gray-700 bg-white/60 p-4 rounded-lg border border-gray-200 max-h-[400px] overflow-auto\",children:text})]})]})})})});};export default PrescriptionOCR;","map":{"version":3,"names":["React","useState","Card","CardContent","CardTitle","Button","ocrPrescription","useToast","jsx","_jsx","jsxs","_jsxs","PrescriptionOCR","file","setFile","text","setText","loading","setLoading","error","setError","addToast","onSubmit","e","preventDefault","res","title","variant","msg","message","description","className","children","type","accept","onChange","_e$target$files","target","files","disabled"],"sources":["/home/abhinavgomra/project/Medi_Care-main/Medicare/frontend/src/pages/PrescriptionOCR.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Card, CardContent, CardTitle } from '../components/Card';\nimport { Button } from '../components/Button';\nimport { ocrPrescription } from '../utils/api';\nimport { useToast } from '../components/Toast';\n\nconst PrescriptionOCR = () => {\n  const [file, setFile] = useState(null);\n  const [text, setText] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const { addToast } = useToast();\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    if (!file) return;\n    setLoading(true); setError(''); setText('');\n    try {\n      const res = await ocrPrescription(file);\n      setText(res.text || '');\n      addToast({ title: 'OCR complete', variant: 'success' });\n    } catch (e) {\n      const msg = e.message || 'OCR failed';\n      setError(msg);\n      addToast({ title: 'OCR failed', description: msg, variant: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen py-12\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <Card variant=\"glass\">\n          <CardContent className=\"p-6\">\n            <CardTitle className=\"mb-4\">Prescription Reader</CardTitle>\n            <form onSubmit={onSubmit} className=\"space-y-4\">\n              <input type=\"file\" accept=\"image/*,application/pdf\" onChange={(e)=>setFile(e.target.files?.[0] || null)} />\n              <Button type=\"submit\" disabled={!file || loading}>{loading ? 'Processing...' : 'Upload & Extract'}</Button>\n            </form>\n            {error && <div className=\"text-sm text-red-600 mt-4\">{error}</div>}\n            {text && (\n              <div className=\"mt-6\">\n                <h4 className=\"font-semibold mb-2\">Extracted Text</h4>\n                <pre className=\"whitespace-pre-wrap text-gray-700 bg-white/60 p-4 rounded-lg border border-gray-200 max-h-[400px] overflow-auto\">{text}</pre>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default PrescriptionOCR;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}