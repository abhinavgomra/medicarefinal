{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abhin\\\\project\\\\Medi_Care-main\\\\Medicare\\\\frontend\\\\src\\\\pages\\\\VoiceControl.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Card, CardContent, CardTitle } from '../components/Card';\nimport { Button } from '../components/Button';\nimport { healthAssistant } from '../utils/api';\nimport { useToast } from '../components/Toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VoiceControl = () => {\n  _s();\n  const [text, setText] = useState('');\n  const [error, setError] = useState('');\n  const {\n    addToast\n  } = useToast();\n  const [dictating, setDictating] = useState(false);\n  const recognitionRef = useRef(null);\n  const [chat, setChat] = useState([]); // {role:'user'|'assistant', text}\n  const [conversationMode, setConversationMode] = useState(false);\n  const [isListening, setIsListening] = useState(false);\n  const [voices, setVoices] = useState([]);\n  const [selectedVoice, setSelectedVoice] = useState(null);\n  useEffect(() => {\n    // Load available voices\n    const loadVoices = () => {\n      const availableVoices = speechSynthesis.getVoices();\n      setVoices(availableVoices);\n      // Select a default voice (prefer female, English)\n      const defaultVoice = availableVoices.find(v => v.lang.startsWith('en') && v.name.toLowerCase().includes('female')) || availableVoices.find(v => v.lang.startsWith('en')) || availableVoices[0];\n      setSelectedVoice(defaultVoice);\n    };\n    loadVoices();\n    if (speechSynthesis.onvoiceschanged !== undefined) {\n      speechSynthesis.onvoiceschanged = loadVoices;\n    }\n    const SR = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (SR) {\n      const r = new SR();\n      r.lang = 'en-US';\n      r.continuous = false;\n      r.interimResults = false;\n      r.onresult = e => {\n        const transcript = e.results[0][0].transcript;\n        setText(transcript);\n        if (conversationMode && transcript.trim()) {\n          handleUserMessage(transcript.trim());\n        }\n      };\n      r.onend = () => {\n        setDictating(false);\n        setIsListening(false);\n        if (conversationMode) {\n          // Auto-restart listening after a short delay\n          setTimeout(() => startListening(), 1000);\n        }\n      };\n      r.onerror = e => {\n        console.error('Speech recognition error:', e.error);\n        setDictating(false);\n        setIsListening(false);\n        setError('Voice recognition failed. Please try again.');\n      };\n      recognitionRef.current = r;\n    }\n  }, [conversationMode]);\n  const startRecording = async () => {\n    setError('');\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      const mr = new MediaRecorder(stream);\n      mediaRecorderRef.current = mr;\n      chunksRef.current = [];\n      mr.ondataavailable = e => {\n        if (e.data.size > 0) chunksRef.current.push(e.data);\n      };\n      mr.onstop = async () => {\n        const blob = new Blob(chunksRef.current, {\n          type: 'audio/webm'\n        });\n        const file = new File([blob], 'recording.webm', {\n          type: 'audio/webm'\n        });\n        setAudioFile(file);\n      };\n      mr.start();\n      setRecording(true);\n    } catch (e) {\n      setError('Microphone access denied. Please allow microphone access.');\n    }\n  };\n  const stopRecording = () => {\n    const mr = mediaRecorderRef.current;\n    if (mr && mr.state !== 'inactive') {\n      mr.stop();\n      setRecording(false);\n    }\n  };\n  const startListening = () => {\n    setError('');\n    if (!recognitionRef.current) {\n      setError('Voice recognition not supported in this browser');\n      return;\n    }\n    try {\n      recognitionRef.current.start();\n      setDictating(true);\n      setIsListening(true);\n    } catch (e) {\n      setError('Could not start voice recognition');\n    }\n  };\n  const stopListening = () => {\n    try {\n      recognitionRef.current && recognitionRef.current.stop();\n    } catch (_) {}\n    setDictating(false);\n    setIsListening(false);\n  };\n  const speak = (msg, langHint) => {\n    try {\n      const utter = new SpeechSynthesisUtterance(msg);\n      if (selectedVoice) {\n        utter.voice = selectedVoice;\n      } else if (langHint && langHint.startsWith('hi')) {\n        utter.lang = 'hi-IN';\n      }\n      utter.rate = 0.9; // Slightly slower for clarity\n      utter.pitch = 1.0;\n      window.speechSynthesis.speak(utter);\n    } catch (_) {}\n  };\n  const handleUserMessage = async message => {\n    const language = /[\\u0900-\\u097F]/.test(message) ? 'hi' : 'en';\n    const userMsg = {\n      role: 'user',\n      text: message\n    };\n    setChat(c => [...c, userMsg]);\n    try {\n      const {\n        reply\n      } = await healthAssistant({\n        message,\n        language\n      });\n      const assistantMsg = {\n        role: 'assistant',\n        text: reply || 'I\\'m here to help. Please describe your symptoms.'\n      };\n      setChat(c => [...c, assistantMsg]);\n      speak(assistantMsg.text, language);\n    } catch (e) {\n      const assistantMsg = {\n        role: 'assistant',\n        text: 'I\\'m sorry, I\\'m having trouble right now. Please try again or consult a doctor for medical advice.'\n      };\n      setChat(c => [...c, assistantMsg]);\n      speak(assistantMsg.text, 'en');\n    }\n  };\n  const toggleConversationMode = () => {\n    if (conversationMode) {\n      stopListening();\n      setConversationMode(false);\n      speak('Voice conversation ended. You can still type your questions below.', 'en');\n    } else {\n      setConversationMode(true);\n      setChat([]);\n      speak('Starting voice conversation. Tell me about your symptoms and I\\'ll help guide you.', 'en');\n      setTimeout(() => startListening(), 2000);\n    }\n  };\n  const onSubmit = async e => {\n    e.preventDefault();\n    if (!audioFile) return;\n    setLoading(true);\n    setText('');\n    setError('');\n    try {\n      const res = await transcribeVoice(audioFile);\n      setText(res.text || '');\n      addToast({\n        title: 'Transcription complete',\n        variant: 'success'\n      });\n    } catch (e) {\n      const msg = e.message || 'Transcription failed';\n      setError(msg);\n      addToast({\n        title: 'Transcription failed',\n        description: msg,\n        variant: 'error'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const sendTextMessage = () => {\n    if (text.trim()) {\n      handleUserMessage(text.trim());\n      setText('');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen py-8 bg-gradient-to-br from-blue-50 to-indigo-100\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        variant: \"glass\",\n        className: \"shadow-xl\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"p-8\",\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"mb-6 text-3xl font-bold text-center text-gray-800\",\n            children: \"Voice Health Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-8 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: toggleConversationMode,\n              className: `px-8 py-4 text-lg font-semibold rounded-full transition-all duration-300 ${conversationMode ? 'bg-red-500 hover:bg-red-600 text-white' : 'bg-green-500 hover:bg-green-600 text-white'}`,\n              children: conversationMode ? 'Stop Voice Chat' : 'Start Voice Chat'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-2 text-sm text-gray-600\",\n              children: conversationMode ? 'Speak naturally - I\\'ll listen and respond' : 'Click to talk with me about your health'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center gap-4 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `px-4 py-2 rounded-full text-sm font-medium ${isListening ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-600'}`,\n              children: isListening ? 'üé§ Listening...' : 'üîá Not Listening'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `px-4 py-2 rounded-full text-sm font-medium ${recording ? 'bg-red-100 text-red-800' : 'bg-gray-100 text-gray-600'}`,\n              children: recording ? '‚è∫Ô∏è Recording...' : '‚èπÔ∏è Not Recording'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: recording ? stopRecording : startRecording,\n                className: `w-full py-3 text-lg font-semibold rounded-lg transition-all duration-300 ${recording ? 'bg-red-500 hover:bg-red-600 text-white animate-pulse' : 'bg-blue-500 hover:bg-blue-600 text-white'}`,\n                children: recording ? 'Stop Recording' : 'Record Audio'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-xs text-gray-500\",\n                children: \"Record and upload audio file\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: isListening ? stopListening : startListening,\n                disabled: conversationMode,\n                className: `w-full py-3 text-lg font-semibold rounded-lg transition-all duration-300 ${isListening ? 'bg-green-500 hover:bg-green-600 text-white animate-pulse' : 'bg-purple-500 hover:bg-purple-600 text-white'}`,\n                children: isListening ? 'Stop Listening' : 'Listen Once'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-xs text-gray-500\",\n                children: \"Listen for one message\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: onSubmit,\n            className: \"mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-4 items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \"audio/*\",\n                onChange: e => {\n                  var _e$target$files;\n                  return setAudioFile(((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]) || null);\n                },\n                className: \"flex-1 px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                disabled: !audioFile || loading,\n                className: \"px-6 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg font-medium\",\n                children: loading ? 'Processing...' : 'Transcribe'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-800 font-medium\",\n              children: [\"\\u26A0\\uFE0F \", error]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: text,\n                onChange: e => setText(e.target.value),\n                placeholder: \"Type your symptoms or question here...\",\n                className: \"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg\",\n                onKeyDown: e => {\n                  if (e.key === 'Enter') {\n                    sendTextMessage();\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: sendTextMessage,\n                disabled: !text.trim(),\n                className: \"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium\",\n                children: \"Ask\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/70 rounded-lg p-4 max-h-96 overflow-y-auto border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold mb-4 text-lg text-gray-800\",\n              children: \"Conversation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this), chat.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-center py-8\",\n              children: \"Start a conversation by speaking or typing your symptoms...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: chat.map((m, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-3 rounded-lg ${m.role === 'assistant' ? 'bg-blue-50 border-l-4 border-blue-500' : 'bg-green-50 border-l-4 border-green-500'}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-start gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `text-2xl ${m.role === 'assistant' ? 'ü§ñ' : 'üë§'}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-sm text-gray-600 uppercase tracking-wide\",\n                      children: m.role === 'assistant' ? 'Health Assistant' : 'You'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"mt-1 text-gray-800 leading-relaxed\",\n                      children: m.text\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 23\n                }, this)\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"font-semibold text-yellow-800 mb-2\",\n              children: \"\\uD83D\\uDCA1 How to use:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"text-sm text-yellow-700 space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 Click \\\"Start Voice Chat\\\" for hands-free conversation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 Or record audio and transcribe it\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 Type your symptoms for instant help\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 Always consult a real doctor for medical advice\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n};\n_s(VoiceControl, \"/QpAZtuM5ICgaDzFIfF/zuvEwEQ=\", false, function () {\n  return [useToast];\n});\n_c = VoiceControl;\nexport default VoiceControl;\nvar _c;\n$RefreshReg$(_c, \"VoiceControl\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Card","CardContent","CardTitle","Button","healthAssistant","useToast","jsxDEV","_jsxDEV","VoiceControl","_s","text","setText","error","setError","addToast","dictating","setDictating","recognitionRef","chat","setChat","conversationMode","setConversationMode","isListening","setIsListening","voices","setVoices","selectedVoice","setSelectedVoice","loadVoices","availableVoices","speechSynthesis","getVoices","defaultVoice","find","v","lang","startsWith","name","toLowerCase","includes","onvoiceschanged","undefined","SR","window","SpeechRecognition","webkitSpeechRecognition","r","continuous","interimResults","onresult","e","transcript","results","trim","handleUserMessage","onend","setTimeout","startListening","onerror","console","current","startRecording","stream","navigator","mediaDevices","getUserMedia","audio","mr","MediaRecorder","mediaRecorderRef","chunksRef","ondataavailable","data","size","push","onstop","blob","Blob","type","file","File","setAudioFile","start","setRecording","stopRecording","state","stop","stopListening","_","speak","msg","langHint","utter","SpeechSynthesisUtterance","voice","rate","pitch","message","language","test","userMsg","role","c","reply","assistantMsg","toggleConversationMode","onSubmit","preventDefault","audioFile","setLoading","res","transcribeVoice","title","variant","description","sendTextMessage","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","recording","disabled","accept","onChange","_e$target$files","target","files","loading","value","placeholder","onKeyDown","key","length","map","m","i","_c","$RefreshReg$"],"sources":["C:/Users/abhin/project/Medi_Care-main/Medicare/frontend/src/pages/VoiceControl.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Card, CardContent, CardTitle } from '../components/Card';\nimport { Button } from '../components/Button';\nimport { healthAssistant } from '../utils/api';\nimport { useToast } from '../components/Toast';\n\nconst VoiceControl = () => {\n  const [text, setText] = useState('');\n  const [error, setError] = useState('');\n  const { addToast } = useToast();\n  const [dictating, setDictating] = useState(false);\n  const recognitionRef = useRef(null);\n  const [chat, setChat] = useState([]); // {role:'user'|'assistant', text}\n  const [conversationMode, setConversationMode] = useState(false);\n  const [isListening, setIsListening] = useState(false);\n  const [voices, setVoices] = useState([]);\n  const [selectedVoice, setSelectedVoice] = useState(null);\n\n  useEffect(() => {\n    // Load available voices\n    const loadVoices = () => {\n      const availableVoices = speechSynthesis.getVoices();\n      setVoices(availableVoices);\n      // Select a default voice (prefer female, English)\n      const defaultVoice = availableVoices.find(v => v.lang.startsWith('en') && v.name.toLowerCase().includes('female')) ||\n                          availableVoices.find(v => v.lang.startsWith('en')) ||\n                          availableVoices[0];\n      setSelectedVoice(defaultVoice);\n    };\n\n    loadVoices();\n    if (speechSynthesis.onvoiceschanged !== undefined) {\n      speechSynthesis.onvoiceschanged = loadVoices;\n    }\n\n    const SR = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (SR) {\n      const r = new SR();\n      r.lang = 'en-US';\n      r.continuous = false;\n      r.interimResults = false;\n      r.onresult = (e) => {\n        const transcript = e.results[0][0].transcript;\n        setText(transcript);\n        if (conversationMode && transcript.trim()) {\n          handleUserMessage(transcript.trim());\n        }\n      };\n      r.onend = () => {\n        setDictating(false);\n        setIsListening(false);\n        if (conversationMode) {\n          // Auto-restart listening after a short delay\n          setTimeout(() => startListening(), 1000);\n        }\n      };\n      r.onerror = (e) => {\n        console.error('Speech recognition error:', e.error);\n        setDictating(false);\n        setIsListening(false);\n        setError('Voice recognition failed. Please try again.');\n      };\n      recognitionRef.current = r;\n    }\n  }, [conversationMode]);\n\n  const startRecording = async () => {\n    setError('');\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const mr = new MediaRecorder(stream);\n      mediaRecorderRef.current = mr;\n      chunksRef.current = [];\n      mr.ondataavailable = (e) => { if (e.data.size > 0) chunksRef.current.push(e.data); };\n      mr.onstop = async () => {\n        const blob = new Blob(chunksRef.current, { type: 'audio/webm' });\n        const file = new File([blob], 'recording.webm', { type: 'audio/webm' });\n        setAudioFile(file);\n      };\n      mr.start();\n      setRecording(true);\n    } catch (e) {\n      setError('Microphone access denied. Please allow microphone access.');\n    }\n  };\n\n  const stopRecording = () => {\n    const mr = mediaRecorderRef.current;\n    if (mr && mr.state !== 'inactive') {\n      mr.stop();\n      setRecording(false);\n    }\n  };\n\n  const startListening = () => {\n    setError('');\n    if (!recognitionRef.current) {\n      setError('Voice recognition not supported in this browser');\n      return;\n    }\n    try {\n      recognitionRef.current.start();\n      setDictating(true);\n      setIsListening(true);\n    } catch (e) {\n      setError('Could not start voice recognition');\n    }\n  };\n\n  const stopListening = () => {\n    try {\n      recognitionRef.current && recognitionRef.current.stop();\n    } catch (_) {}\n    setDictating(false);\n    setIsListening(false);\n  };\n\n  const speak = (msg, langHint) => {\n    try {\n      const utter = new SpeechSynthesisUtterance(msg);\n      if (selectedVoice) {\n        utter.voice = selectedVoice;\n      } else if (langHint && langHint.startsWith('hi')) {\n        utter.lang = 'hi-IN';\n      }\n      utter.rate = 0.9; // Slightly slower for clarity\n      utter.pitch = 1.0;\n      window.speechSynthesis.speak(utter);\n    } catch (_) {}\n  };\n\n  const handleUserMessage = async (message) => {\n    const language = /[\\u0900-\\u097F]/.test(message) ? 'hi' : 'en';\n    const userMsg = { role: 'user', text: message };\n    setChat((c) => [...c, userMsg]);\n\n    try {\n      const { reply } = await healthAssistant({ message, language });\n      const assistantMsg = { role: 'assistant', text: reply || 'I\\'m here to help. Please describe your symptoms.' };\n      setChat((c) => [...c, assistantMsg]);\n      speak(assistantMsg.text, language);\n    } catch (e) {\n      const assistantMsg = { role: 'assistant', text: 'I\\'m sorry, I\\'m having trouble right now. Please try again or consult a doctor for medical advice.' };\n      setChat((c) => [...c, assistantMsg]);\n      speak(assistantMsg.text, 'en');\n    }\n  };\n\n  const toggleConversationMode = () => {\n    if (conversationMode) {\n      stopListening();\n      setConversationMode(false);\n      speak('Voice conversation ended. You can still type your questions below.', 'en');\n    } else {\n      setConversationMode(true);\n      setChat([]);\n      speak('Starting voice conversation. Tell me about your symptoms and I\\'ll help guide you.', 'en');\n      setTimeout(() => startListening(), 2000);\n    }\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    if (!audioFile) return;\n    setLoading(true); setText(''); setError('');\n    try {\n      const res = await transcribeVoice(audioFile);\n      setText(res.text || '');\n      addToast({ title: 'Transcription complete', variant: 'success' });\n    } catch (e) {\n      const msg = e.message || 'Transcription failed';\n      setError(msg);\n      addToast({ title: 'Transcription failed', description: msg, variant: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const sendTextMessage = () => {\n    if (text.trim()) {\n      handleUserMessage(text.trim());\n      setText('');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen py-8 bg-gradient-to-br from-blue-50 to-indigo-100\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <Card variant=\"glass\" className=\"shadow-xl\">\n          <CardContent className=\"p-8\">\n            <CardTitle className=\"mb-6 text-3xl font-bold text-center text-gray-800\">\n              Voice Health Assistant\n            </CardTitle>\n\n            {/* Voice Conversation Mode */}\n            <div className=\"mb-8 text-center\">\n              <Button\n                onClick={toggleConversationMode}\n                className={`px-8 py-4 text-lg font-semibold rounded-full transition-all duration-300 ${\n                  conversationMode\n                    ? 'bg-red-500 hover:bg-red-600 text-white'\n                    : 'bg-green-500 hover:bg-green-600 text-white'\n                }`}\n              >\n                {conversationMode ? 'Stop Voice Chat' : 'Start Voice Chat'}\n              </Button>\n              <p className=\"mt-2 text-sm text-gray-600\">\n                {conversationMode ? 'Speak naturally - I\\'ll listen and respond' : 'Click to talk with me about your health'}\n              </p>\n            </div>\n\n            {/* Status Indicators */}\n            <div className=\"flex justify-center gap-4 mb-6\">\n              <div className={`px-4 py-2 rounded-full text-sm font-medium ${\n                isListening ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-600'\n              }`}>\n                {isListening ? 'üé§ Listening...' : 'üîá Not Listening'}\n              </div>\n              <div className={`px-4 py-2 rounded-full text-sm font-medium ${\n                recording ? 'bg-red-100 text-red-800' : 'bg-gray-100 text-gray-600'\n              }`}>\n                {recording ? '‚è∫Ô∏è Recording...' : '‚èπÔ∏è Not Recording'}\n              </div>\n            </div>\n\n            {/* Manual Controls */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n              <div className=\"text-center\">\n                <Button\n                  onClick={recording ? stopRecording : startRecording}\n                  className={`w-full py-3 text-lg font-semibold rounded-lg transition-all duration-300 ${\n                    recording\n                      ? 'bg-red-500 hover:bg-red-600 text-white animate-pulse'\n                      : 'bg-blue-500 hover:bg-blue-600 text-white'\n                  }`}\n                >\n                  {recording ? 'Stop Recording' : 'Record Audio'}\n                </Button>\n                <p className=\"mt-1 text-xs text-gray-500\">Record and upload audio file</p>\n              </div>\n\n              <div className=\"text-center\">\n                <Button\n                  onClick={isListening ? stopListening : startListening}\n                  disabled={conversationMode}\n                  className={`w-full py-3 text-lg font-semibold rounded-lg transition-all duration-300 ${\n                    isListening\n                      ? 'bg-green-500 hover:bg-green-600 text-white animate-pulse'\n                      : 'bg-purple-500 hover:bg-purple-600 text-white'\n                  }`}\n                >\n                  {isListening ? 'Stop Listening' : 'Listen Once'}\n                </Button>\n                <p className=\"mt-1 text-xs text-gray-500\">Listen for one message</p>\n              </div>\n            </div>\n\n            {/* File Upload */}\n            <form onSubmit={onSubmit} className=\"mb-6\">\n              <div className=\"flex gap-4 items-center\">\n                <input\n                  type=\"file\"\n                  accept=\"audio/*\"\n                  onChange={(e) => setAudioFile(e.target.files?.[0] || null)}\n                  className=\"flex-1 px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none\"\n                />\n                <Button\n                  type=\"submit\"\n                  disabled={!audioFile || loading}\n                  className=\"px-6 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg font-medium\"\n                >\n                  {loading ? 'Processing...' : 'Transcribe'}\n                </Button>\n              </div>\n            </form>\n\n            {/* Error Display */}\n            {error && (\n              <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\n                <p className=\"text-red-800 font-medium\">‚ö†Ô∏è {error}</p>\n              </div>\n            )}\n\n            {/* Text Input */}\n            <div className=\"mb-6\">\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  value={text}\n                  onChange={(e) => setText(e.target.value)}\n                  placeholder=\"Type your symptoms or question here...\"\n                  className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg\"\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter') {\n                      sendTextMessage();\n                    }\n                  }}\n                />\n                <Button\n                  onClick={sendTextMessage}\n                  disabled={!text.trim()}\n                  className=\"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium\"\n                >\n                  Ask\n                </Button>\n              </div>\n            </div>\n\n            {/* Chat Display */}\n            <div className=\"bg-white/70 rounded-lg p-4 max-h-96 overflow-y-auto border border-gray-200\">\n              <h4 className=\"font-semibold mb-4 text-lg text-gray-800\">Conversation</h4>\n              {chat.length === 0 ? (\n                <p className=\"text-gray-500 text-center py-8\">\n                  Start a conversation by speaking or typing your symptoms...\n                </p>\n              ) : (\n                <div className=\"space-y-4\">\n                  {chat.map((m, i) => (\n                    <div\n                      key={i}\n                      className={`p-3 rounded-lg ${\n                        m.role === 'assistant'\n                          ? 'bg-blue-50 border-l-4 border-blue-500'\n                          : 'bg-green-50 border-l-4 border-green-500'\n                      }`}\n                    >\n                      <div className=\"flex items-start gap-3\">\n                        <span className={`text-2xl ${m.role === 'assistant' ? 'ü§ñ' : 'üë§'}`}></span>\n                        <div className=\"flex-1\">\n                          <span className=\"font-semibold text-sm text-gray-600 uppercase tracking-wide\">\n                            {m.role === 'assistant' ? 'Health Assistant' : 'You'}\n                          </span>\n                          <p className=\"mt-1 text-gray-800 leading-relaxed\">{m.text}</p>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Instructions */}\n            <div className=\"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\n              <h5 className=\"font-semibold text-yellow-800 mb-2\">üí° How to use:</h5>\n              <ul className=\"text-sm text-yellow-700 space-y-1\">\n                <li>‚Ä¢ Click \"Start Voice Chat\" for hands-free conversation</li>\n                <li>‚Ä¢ Or record audio and transcribe it</li>\n                <li>‚Ä¢ Type your symptoms for instant help</li>\n                <li>‚Ä¢ Always consult a real doctor for medical advice</li>\n              </ul>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default VoiceControl;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}